# ============================================
# DATABASE CONFIGURATION
# ============================================

# PostgreSQL Database URL
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL="postgresql://postgres:password@localhost:5432/events_platform?schema=public"

# Connection Pool (Optional - for production)
# DATABASE_URL="postgresql://postgres:password@localhost:5432/events_platform?schema=public&connection_limit=100&pool_timeout=10"

# ============================================
# SERVER CONFIGURATION
# ============================================

PORT=5000
NODE_ENV="development"
API_VERSION="v1"

# Frontend URL (for CORS)
FRONTEND_URL="http://localhost:3000"
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001"

# ============================================
# JWT & AUTHENTICATION
# ============================================

# JWT Secret Keys (MUST BE CHANGED IN PRODUCTION!)
JWT_SECRET="your-super-secret-jwt-key-min-32-chars-change-in-production"
JWT_REFRESH_SECRET="your-refresh-token-secret-min-32-chars-change-in-production"

# Token Expiry
JWT_EXPIRES_IN="7d"
JWT_REFRESH_EXPIRES_IN="30d"

# Cookie Settings
COOKIE_SECRET="your-cookie-secret-min-32-chars"
COOKIE_DOMAIN="localhost"
COOKIE_SECURE="false"  # Set to "true" in production with HTTPS

# ============================================
# REDIS CONFIGURATION (for caching & rate limiting)
# ============================================

# Redis Connection
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""  # Leave empty for local development

# Production Redis (e.g., AWS ElastiCache, Redis Cloud)
# REDIS_HOST="your-redis-endpoint.amazonaws.com"
# REDIS_PORT=6379
# REDIS_PASSWORD="your-redis-password"

# ============================================
# EMAIL CONFIGURATION
# ============================================

# SendGrid
SENDGRID_API_KEY="SG.xxxxxxxxxxxxxxxxxxxxxxxxxx"
FROM_EMAIL="[email protected]"
FROM_NAME="Events & Activities"

# Or use SMTP
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT=587
# SMTP_USER="[email protected]"
# SMTP_PASSWORD="your-app-password"

# Email Templates
VERIFICATION_EMAIL_TEMPLATE_ID="d-xxxxxxxxxxxxxxxxxxxxxxxxxx"
WELCOME_EMAIL_TEMPLATE_ID="d-xxxxxxxxxxxxxxxxxxxxxxxxxx"

# ============================================
# SMS CONFIGURATION (Twilio)
# ============================================

TWILIO_ACCOUNT_SID="ACxxxxxxxxxxxxxxxxxxxxxxxxxx"
TWILIO_AUTH_TOKEN="your-twilio-auth-token"
TWILIO_PHONE_NUMBER="+1234567890"
TWILIO_VERIFY_SERVICE_SID="VAxxxxxxxxxxxxxxxxxxxxxxxxxx"

# ============================================
# CLOUD STORAGE (Cloudinary)
# ============================================

CLOUDINARY_CLOUD_NAME="your-cloud-name"
CLOUDINARY_API_KEY="123456789012345"
CLOUDINARY_API_SECRET="your-api-secret"
CLOUDINARY_FOLDER="events-platform"

# Or use AWS S3
# AWS_ACCESS_KEY_ID="your-access-key"
# AWS_SECRET_ACCESS_KEY="your-secret-key"
# AWS_REGION="us-east-1"
# AWS_S3_BUCKET="events-platform-uploads"

# ============================================
# PAYMENT GATEWAYS
# ============================================

# Stripe
STRIPE_SECRET_KEY="your_stripe_secret_key_here"
STRIPE_PUBLISHABLE_KEY="your_stripe_publishable_key_here"
STRIPE_WEBHOOK_SECRET="your_stripe_webhook_secret_here"
STRIPE_CURRENCY="usd"

# SSLCommerz (for Bangladesh)
SSLCOMMERZ_STORE_ID="your-store-id"
SSLCOMMERZ_STORE_PASSWORD="your-store-password"
SSLCOMMERZ_IS_LIVE="false"  # Set to "true" in production

# bKash
BKASH_APP_KEY="your-app-key"
BKASH_APP_SECRET="your-app-secret"
BKASH_USERNAME="your-username"
BKASH_PASSWORD="your-password"
BKASH_GRANT_TOKEN_URL="https://tokenized.sandbox.bkash.com/v1.2.0-beta/tokenized/checkout/token/grant"
BKASH_CREATE_PAYMENT_URL="https://tokenized.sandbox.bkash.com/v1.2.0-beta/tokenized/checkout/create"

# ============================================
# SOCIAL AUTHENTICATION (OAuth)
# ============================================

# Google OAuth
GOOGLE_CLIENT_ID="your-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-client-secret"
GOOGLE_CALLBACK_URL="http://localhost:5000/api/v1/auth/google/callback"

# Facebook OAuth
FACEBOOK_APP_ID="your-facebook-app-id"
FACEBOOK_APP_SECRET="your-facebook-app-secret"
FACEBOOK_CALLBACK_URL="http://localhost:5000/api/v1/auth/facebook/callback"

# GitHub OAuth
GITHUB_CLIENT_ID="your-github-client-id"
GITHUB_CLIENT_SECRET="your-github-client-secret"
GITHUB_CALLBACK_URL="http://localhost:5000/api/v1/auth/github/callback"

# ============================================
# AI/ML SERVICES
# ============================================

# OpenAI (for AI recommendations, chatbot, content generation)
OPENAI_API_KEY="sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
OPENAI_MODEL="gpt-4"
OPENAI_TEMPERATURE="0.7"

# Google AI (Alternative)
# GOOGLE_AI_API_KEY="your-google-ai-key"

# Face Verification (AWS Rekognition or similar)
# AWS_REKOGNITION_COLLECTION_ID="events-platform-faces"

# ============================================
# REDIS (Caching & Sessions)
# ============================================

# Local Redis
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""
REDIS_DB="0"

# Redis Cloud (production)
# REDIS_URL="redis://default:password@redis-12345.cloud.redislabs.com:12345"

# Session Configuration
SESSION_SECRET="your-session-secret-min-32-chars"
SESSION_MAX_AGE="86400000"  # 24 hours in milliseconds

# ============================================
# REAL-TIME (Socket.io)
# ============================================

SOCKET_CORS_ORIGIN="http://localhost:3000"
SOCKET_PING_TIMEOUT="60000"
SOCKET_PING_INTERVAL="25000"

# ============================================
# GOOGLE MAPS API
# ============================================

GOOGLE_MAPS_API_KEY="AIzaSyxxxxxxxxxxxxxxxxxxxxxxxxxx"

# ============================================
# VIDEO CONFERENCING (for Virtual Events)
# ============================================

# Zoom
ZOOM_API_KEY="your-zoom-api-key"
ZOOM_API_SECRET="your-zoom-api-secret"

# Or Google Meet / Microsoft Teams
# GOOGLE_MEET_API_KEY="your-google-meet-key"

# ============================================
# NOTIFICATION SERVICES
# ============================================

# Firebase Cloud Messaging (Push Notifications)
FCM_SERVER_KEY="AAAAxxxxxxxx:APA91bxxxxxxxxxxxxxxxxxx"
FCM_PROJECT_ID="your-firebase-project-id"

# Apple Push Notification Service (APNS)
APNS_KEY_ID="your-apns-key-id"
APNS_TEAM_ID="your-team-id"
APNS_BUNDLE_ID="com.yourcompany.eventsapp"
APNS_KEY_PATH="./certs/AuthKey_XXXXXXXXXX.p8"

# ============================================
# ANALYTICS & MONITORING
# ============================================

# Google Analytics
GA_TRACKING_ID="UA-XXXXXXXXX-X"
# or GA4
GA4_MEASUREMENT_ID="G-XXXXXXXXXX"

# Sentry (Error Tracking)
SENTRY_DSN="https://xxxxxxxxxxxxxxxx@sentry.io/xxxxxxx"
SENTRY_ENVIRONMENT="development"

# New Relic
# NEW_RELIC_LICENSE_KEY="your-license-key"
# NEW_RELIC_APP_NAME="Events Platform API"

# ============================================
# RATE LIMITING
# ============================================

# API Rate Limiting
RATE_LIMIT_WINDOW_MS="900000"  # 15 minutes
RATE_LIMIT_MAX_REQUESTS="100"  # Max requests per window

# Authentication Rate Limiting
AUTH_RATE_LIMIT_WINDOW_MS="300000"  # 5 minutes
AUTH_RATE_LIMIT_MAX_ATTEMPTS="5"    # Max login attempts

# ============================================
# SECURITY
# ============================================

# Encryption Keys
ENCRYPTION_KEY="your-32-char-encryption-key-here"
ENCRYPTION_IV="your-16-char-iv"

# CORS Settings
CORS_CREDENTIALS="true"
CORS_MAX_AGE="86400"

# Password Hashing
BCRYPT_ROUNDS="10"

# ============================================
# FEATURE FLAGS
# ============================================

ENABLE_REGISTRATION="true"
ENABLE_SOCIAL_LOGIN="true"
ENABLE_EMAIL_VERIFICATION="true"
ENABLE_SMS_VERIFICATION="false"
ENABLE_TWO_FACTOR_AUTH="false"
ENABLE_AI_RECOMMENDATIONS="true"
ENABLE_CHAT="true"
ENABLE_STORIES="true"
ENABLE_LIVE_STREAMING="false"
ENABLE_GAMIFICATION="true"

# ============================================
# BACKGROUND JOBS
# ============================================

# Bull Queue (Redis-based)
QUEUE_NAME="events-platform-queue"
QUEUE_REDIS_HOST="localhost"
QUEUE_REDIS_PORT="6379"

# Job Settings
MAX_JOB_ATTEMPTS="3"
JOB_TIMEOUT="30000"  # 30 seconds

# ============================================
# WEBHOOK CONFIGURATION
# ============================================

WEBHOOK_SECRET="your-webhook-secret-key"
WEBHOOK_RETRY_ATTEMPTS="3"
WEBHOOK_RETRY_DELAY="60"  # seconds

# ============================================
# LOGGING
# ============================================

LOG_LEVEL="info"  # error, warn, info, debug
LOG_FORMAT="json"  # json or simple
LOG_DIR="./logs"

# ============================================
# DEVELOPMENT/TESTING
# ============================================

# Enable debug mode
DEBUG="true"
VERBOSE_LOGGING="true"

# Seed Database on Startup
AUTO_SEED="false"

# Mock External Services (for testing)
MOCK_PAYMENTS="false"
MOCK_EMAIL="false"
MOCK_SMS="false"

# ============================================
# PRODUCTION-SPECIFIC
# ============================================

# SSL/TLS
# SSL_KEY_PATH="./certs/privkey.pem"
# SSL_CERT_PATH="./certs/fullchain.pem"

# Cluster Mode
# CLUSTER_WORKERS="4"  # Number of worker processes

# Database Connection Pool
# DB_POOL_MIN="2"
# DB_POOL_MAX="10"

# ============================================
# THIRD-PARTY INTEGRATIONS
# ============================================

# Calendar Integration
# GOOGLE_CALENDAR_CLIENT_ID="your-client-id"
# GOOGLE_CALENDAR_CLIENT_SECRET="your-secret"

# Social Media Sharing
# FACEBOOK_APP_ID="your-fb-app-id"
# TWITTER_API_KEY="your-twitter-key"

# Analytics Services
# MIXPANEL_TOKEN="your-mixpanel-token"
# AMPLITUDE_API_KEY="your-amplitude-key"

# Customer Support
# INTERCOM_APP_ID="your-intercom-app-id"
# ZENDESK_SUBDOMAIN="your-subdomain"

# ============================================
# LEGAL & COMPLIANCE
# ============================================

PRIVACY_POLICY_URL="https://yourdomain.com/privacy"
TERMS_OF_SERVICE_URL="https://yourdomain.com/terms"
COOKIE_POLICY_URL="https://yourdomain.com/cookies"

# ============================================
# ADMIN DASHBOARD
# ============================================

ADMIN_EMAIL="[email protected]"
ADMIN_USERNAME="superadmin"
# Note: Admin password should be set via seeding, not env variables

# ============================================
# BACKUP & MAINTENANCE
# ============================================

# Automatic Backups
# BACKUP_ENABLED="true"
# BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
# BACKUP_RETENTION_DAYS="30"
# BACKUP_S3_BUCKET="events-platform-backups"

# ============================================
# NOTES
# ============================================

# 1. DO NOT commit this file with real values to version control
# 2. Copy this file to .env and fill in your actual values
# 3. Keep .env in .gitignore
# 4. Use different values for development, staging, and production
# 5. Rotate secrets regularly in production
# 6. Use a secrets manager (AWS Secrets Manager, HashiCorp Vault) in production
# 7. Minimum 32 characters recommended for all secrets
# 8. Use strong, randomly generated secrets in production
